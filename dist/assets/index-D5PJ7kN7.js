import{h,j as s,L as x}from"./index-BV_68Uyj.js";import{r as t}from"./react-CWmeP4t5.js";import{a as j}from"./vendor-DsPaXkF5.js";import{P as w,C}from"./index-BoJa84lN.js";import{a as P,I as y}from"./styles-5TJA18s3.js";import{L as m}from"./loadingSpinner-CuS3lz-D.js";import"./conversion-SfHyV7sn.js";const E=h.div`
  padding: 20px;
  background-color: var(--background-color);
`,N=()=>{const[p,g]=t.useState([]),[r,i]=t.useState(!0),[a,u]=t.useState(1),[c,f]=t.useState(!0),l=t.useCallback(async()=>{try{const o=(await j.get("/api/v1/products",{params:{category:"닭가슴살",page:a,limit:10}})).data;Array.isArray(o)&&o.length>0?g(n=>[...n,...o]):f(!1),i(!1)}catch(e){i(!1),e.response?e.response.status===404?console.log("Products not found"):console.log("Server error"):console.log("Network error")}},[a]);return t.useEffect(()=>{l()},[l]),t.useEffect(()=>{const e=()=>{window.innerHeight+document.documentElement.scrollTop!==document.documentElement.offsetHeight||r||!c||u(o=>o+1)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[r,c]),s.jsxs(E,{children:[s.jsx(P,{children:s.jsx(y,{})}),s.jsx(w,{pageName:"추천 페이지"}),r&&a===1?s.jsx(m,{}):s.jsxs(s.Fragment,{children:[p.map((e,o)=>{var n,d;return s.jsx(x,{to:`/product/${encodeURIComponent(e.name)}`,children:s.jsx(C,{id:e.id,name:e.name,shipping:e.shippingFee,price:((d=(n=e.prices)==null?void 0:n[0])==null?void 0:d.setPrice)||"가격 없음"})},`${e.id}-${o}`)}),r&&s.jsx(m,{})," "]})]})};export{N as default};
