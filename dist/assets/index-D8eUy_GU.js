import{h as d,j as e,J as u,S as x,L as h}from"./index-BV_68Uyj.js";import{r as o}from"./react-CWmeP4t5.js";import{a as m}from"./vendor-DsPaXkF5.js";import{P as g,C as f}from"./index-BoJa84lN.js";import{L as y}from"./loadingSpinner-CuS3lz-D.js";import"./conversion-SfHyV7sn.js";const j=d.div`
  padding: 20px;
  background-color: var(--background-color);
`,S=()=>e.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",height:"70vh"},children:[e.jsxs("video",{autoPlay:!0,loop:!0,muted:!0,style:{width:"50%"},children:[e.jsx("source",{src:"/public/assets/noResults.webm",type:"video/webm"}),"Your browser does not support the video tag."]}),e.jsxs("div",{style:{textAlign:"center",marginTop:"20px"},children:[e.jsx("p",{style:{fontWeight:"bold",fontSize:"18px",margin:0},children:"검색 결과가 없습니다."}),e.jsx("p",{style:{color:"#666",fontSize:"14px",marginTop:"5px"},children:"다른 검색어를 입력해 보세요."})]})]}),R=()=>{const{keyword:t}=u(),{setSearchQuery:a}=o.useContext(x),[n,i]=o.useState([]),[l,c]=o.useState(!0);return o.useEffect(()=>{t&&(a(t),i([]),c(!0))},[t,a]),o.useEffect(()=>{if(!t)return;(async()=>{try{const r=await m.get("/api/v1/search",{params:{keyword:t}});r.status===200&&i(r.data)}catch(r){console.log("An error occurred:",r.message)}finally{c(!1)}})()},[t]),e.jsxs(j,{children:[e.jsx(g,{pageName:"Search Results"}),l?e.jsx(y,{}):n.length>0?n.map((s,r)=>{var p;return e.jsx(h,{to:`/product/${encodeURIComponent(s.name)}`,style:{textDecoration:"none",color:"inherit"},children:e.jsx(f,{id:s.id,name:s.name,shipping:s.shippingFee,price:(p=s.prices[0])==null?void 0:p.setPrice})},r)}):e.jsx(S,{})]})};export{R as default};
