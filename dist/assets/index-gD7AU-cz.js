import{j as s}from"./mui-CBnthf5k.js";import{r}from"./react-MtzkCgoa.js";import{d as b}from"./styledComponents-1o1C33xj.js";import{a as y,C as h,I as w,P as x,L as p,b as j}from"./index-CmDNw6Sw.js";import"./router-Cdb7tpuz.js";import"./lottie-mCH_PnFD.js";import"./swiper-D1z_ESSC.js";import"./vendor-DQF1Fin4.js";(function(){try{var o=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},a=new Error().stack;a&&(o._sentryDebugIds=o._sentryDebugIds||{},o._sentryDebugIds[a]="88b36a44-2bb6-4297-9ac8-218e882833e4",o._sentryDebugIdIdentifier="sentry-dbid-88b36a44-2bb6-4297-9ac8-218e882833e4")}catch{}})();const P=b.div`
  padding: 20px;
  background-color: var(--background-color);
`,_=()=>{const[o,a]=r.useState([]),[n,d]=r.useState(!0),[c,f]=r.useState(1),[l,m]=r.useState(!0),g=r.useCallback(async()=>{try{const t=(await y.get("/v1/products",{params:{category:"닭가슴살",page:c,limit:10}})).data;Array.isArray(t)&&t.length>0?a(i=>[...i,...t]):m(!1),d(!1)}catch(e){d(!1),e.response?e.response.status===404?console.log("Products not found"):console.log("Server error"):console.log("Network error")}},[c]);return r.useEffect(()=>{g()},[g]),r.useEffect(()=>{const e=()=>{window.innerHeight+document.documentElement.scrollTop!==document.documentElement.offsetHeight||n||!l||f(t=>t+1)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[n,l]),s.jsxs(P,{children:[s.jsx(h,{children:s.jsx(w,{})}),s.jsx(x,{pageName:"추천 페이지"}),n&&c===1?s.jsx(p,{}):s.jsxs(s.Fragment,{children:[o.map((e,t)=>{var i,u;return s.jsx("div",{children:s.jsx(j,{id:e.id,image:e.imageUrl,name:e.name,shipping:e.shippingFee,price:((u=(i=e.prices)==null?void 0:i[0])==null?void 0:u.setPrice)||"가격 없음"})},`${e.id}-${t}`)}),n&&s.jsx(p,{})]})]})};export{_ as default};
