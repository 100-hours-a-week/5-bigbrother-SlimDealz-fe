import{j as s}from"./mui-CcQhKvkX.js";import{r as t}from"./react-CcBtCB7v.js";import{a as h}from"./vendor-DsPaXkF5.js";import{d as x}from"./styledComponents-CoZbl3wq.js";import{C as j,I as P,P as w,L as d,a as C}from"./index-COZT9_0j.js";import{L as y}from"./router-CK-IR3zP.js";import"./lottie-BbHPf8Bg.js";import"./swiper-DSaxWTil.js";const E=x.div`
  padding: 20px;
  background-color: var(--background-color);
`,$=()=>{const[p,g]=t.useState([]),[r,i]=t.useState(!0),[n,u]=t.useState(1),[c,f]=t.useState(!0),l=t.useCallback(async()=>{try{const o=(await h.get("/api/v1/products",{params:{category:"닭가슴살",page:n,limit:10}})).data;Array.isArray(o)&&o.length>0?g(a=>[...a,...o]):f(!1),i(!1)}catch(e){i(!1),e.response?e.response.status===404?console.log("Products not found"):console.log("Server error"):console.log("Network error")}},[n]);return t.useEffect(()=>{l()},[l]),t.useEffect(()=>{const e=()=>{window.innerHeight+document.documentElement.scrollTop!==document.documentElement.offsetHeight||r||!c||u(o=>o+1)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[r,c]),s.jsxs(E,{children:[s.jsx(j,{children:s.jsx(P,{})}),s.jsx(w,{pageName:"추천 페이지"}),r&&n===1?s.jsx(d,{}):s.jsxs(s.Fragment,{children:[p.map((e,o)=>{var a,m;return s.jsx(y,{to:`/product/${encodeURIComponent(e.name)}`,children:s.jsx(C,{id:e.id,image:e.imageUrl,name:e.name,shipping:e.shippingFee,price:((m=(a=e.prices)==null?void 0:a[0])==null?void 0:m.setPrice)||"가격 없음"})},`${e.id}-${o}`)}),r&&s.jsx(d,{})]})]})};export{$ as default};
