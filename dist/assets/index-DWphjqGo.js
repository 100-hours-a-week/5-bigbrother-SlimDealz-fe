import{j as e}from"./mui-CBnthf5k.js";import{r as n}from"./react-MtzkCgoa.js";import{a as v}from"./index-CmDNw6Sw.js";import{u as B}from"./router-Cdb7tpuz.js";import"./styledComponents-1o1C33xj.js";import"./lottie-mCH_PnFD.js";import"./swiper-D1z_ESSC.js";import"./vendor-DQF1Fin4.js";(function(){try{var s=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},c=new Error().stack;c&&(s._sentryDebugIds=s._sentryDebugIds||{},s._sentryDebugIds[c]="75aa92cc-e881-4f74-8dee-3dbd706da4d3",s._sentryDebugIdIdentifier="sentry-dbid-75aa92cc-e881-4f74-8dee-3dbd706da4d3")}catch{}})();const t={userProfileContainer:{padding:"20px",fontFamily:"Arial, sans-serif"},navBar:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},navBarButton:{backgroundColor:"transparent",border:"none",fontSize:"18px",cursor:"pointer"},userInfoSection:{marginBottom:"20px"},formGroup:{marginBottom:"10px"},formGroupLabel:{display:"block",marginBottom:"5px"},formGroupInput:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid #ccc"},actionButtonSubmit:{backgroundColor:"#4CAF50",color:"white",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer"},actionButton:{backgroundColor:"#008CBA",color:"white",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer"},actionButtonCancel:{backgroundColor:"#f44336"},checkboxGroup:{marginBottom:"10px"},checkboxGroupInput:{marginRight:"5px"},switch:{display:"flex",alignItems:"center",marginBottom:"10px"}},D=()=>{const s=B(),[c,p]=n.useState(""),[l,f]=n.useState(""),[u,b]=n.useState(""),[m,y]=n.useState(""),[g,j]=n.useState(""),[h,k]=n.useState(""),[x,w]=n.useState(!1);n.useEffect(()=>{const o=new URLSearchParams(window.location.search),r=o.get("jwtToken"),a=o.get("refreshToken");if(r&&a){localStorage.setItem("jwtToken",r),localStorage.setItem("refreshToken",a);const i=I(r);j(i.name),b(i.role),y(i.kakao_Id),f(i.profile_image);const d=window.location.origin+window.location.pathname;window.history.replaceState(null,"",d)}},[]);function I(o){try{const a=o.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),i=decodeURIComponent(atob(a).split("").map(function(d){return"%"+("00"+d.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(i)}catch(r){return console.error("토큰 파싱 중 오류 발생:",r),null}}const S=async()=>{const o={name:g,nickname:c,kakao_Id:m,profileImage:l,role:u,card:h,notification_agree:x};try{const r=localStorage.getItem("jwtToken"),a=await v.post("/v1/users/kakaologin",o,{headers:{Authorization:`Bearer ${r}`}});console.log("회원 정보 저장 성공:",a.data),s("/")}catch(r){console.error("회원 정보 저장 실패:",r)}};return e.jsxs("div",{style:t.userProfileContainer,children:[e.jsxs("div",{style:t.navBar,children:[e.jsx("button",{style:t.navBarButton,onClick:()=>s(-1),children:"←"}),e.jsx("h2",{children:"회원가입 추가 정보"})]}),e.jsxs("div",{style:t.userInfoSection,children:[e.jsx("h2",{children:"사용자 정보"}),l&&e.jsx("img",{src:l,alt:"Profile",style:{width:"150px",height:"150px",borderRadius:"50%"}}),e.jsxs("p",{children:[e.jsx("strong",{children:"이름:"})," ",g]}),e.jsxs("p",{children:[e.jsx("strong",{children:"역할:"})," ",u]}),e.jsxs("p",{children:[e.jsx("strong",{children:"소셜 ID:"})," ",m]})]}),e.jsxs("div",{style:t.userInfoSection,children:[e.jsx("h2",{children:"회원 정보 입력"}),e.jsxs("div",{style:t.formGroup,children:[e.jsx("label",{style:t.formGroupLabel,children:"닉네임:"}),e.jsx("input",{type:"text",style:t.formGroupInput,value:c,onChange:o=>p(o.target.value),placeholder:"닉네임을 입력하세요"})]}),e.jsxs("div",{style:t.formGroup,children:[e.jsx("label",{style:t.formGroupLabel,children:"카드 정보:"}),e.jsx("input",{type:"text",style:t.formGroupInput,value:h,onChange:o=>k(o.target.value),placeholder:"카드 정보를 입력하세요"})]}),e.jsx("div",{style:t.checkboxGroup,children:e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",checked:x,onChange:o=>w(o.target.checked)}),"알림 수신 동의"]})}),e.jsx("button",{style:t.actionButtonSubmit,onClick:S,children:"회원가입 완료"})]})]})};export{D as default};
